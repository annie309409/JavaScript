<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div>
        <p class="msg"></p>
    </div>
</body>
<script>
    // readystate : 1 - open 호출 완료
    // readystate : 2 - send 호출 완료
    // readystate : 3 - 서버 응답 준비중
    // readystate : 4 - 서버 응답 완료

    // req.status : 200 - '정상 처리' 응답
    // req.status : 404 - '찾는 데이터 없음' 응답
    // req.status : 500 - '코드 오류 비정상 종료' 응답

    // 1.비동기 요청을 위한 ajax 객체생성
    let req = new XMLHttpRequest();
    // 4. 콜백함수
    req.onreadystatechange=(e)=>{
        // 서버응답과정
        // console.log(req.readyState);
        // 서버처리부분
        // console.log(req.status);
        if(req.readyState==4 && req.status==200){
            let msg = document.querySelector('.msg');
            // 5. 서버로부터 응답받은 텍스트를 지정한 요소내에 출력
            msg.textContent = req.responseText;
        }else{
            console.log('error: '+req.readyState);
            console.log('error: '+req.status);
        }
    }
    // 2. 서버에 데이터를 요청하기 위해 요청방식과 대상이 있는 url 기술 : open(요청방식,요청url);
    req.open('get','./server/sayHello.txt');
    // 3.실제 요청전송
    req.send();

</script>
</html>